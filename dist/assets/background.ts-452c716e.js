async function n(t,e){const r=new URLSearchParams({word:e.word,direction:e.direction}),o=new Headers({"API-Key":e.hash}),a=await fetch(`https://bolor-toli.com/pub/${t}?${r.toString()}`,{method:"GET",headers:o});if(!a.ok)throw new Error(`Failed to fetch ${t}`);return t==="translate"?a.json():a.text()}function s(t,e){return t.type==="search-suggest"||t.type==="translate"?(n(t.type,t).then(r=>{e({type:"ok",data:r})}).catch(r=>{e({type:"error",data:"",message:r.toString()})}),!0):(e({type:"error",data:"",message:"Invalid request"}),!1)}chrome.runtime.onMessage.addListener((t,e,r)=>s(t,r));
