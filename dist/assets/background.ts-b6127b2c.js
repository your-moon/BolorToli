import{T as a}from"./Serialization-cdc6a098.js";async function n(t,o){console.log("fetch request",o);const r=new URLSearchParams({word:o.word,direction:o.direction}),s=new Headers({"API-Key":o.hash});console.log(`https://bolor-toli.com/pub/${t}?${r.toString()}`);const e=await fetch(`https://bolor-toli.com/pub/${t}?${r.toString()}`,{method:"GET",headers:s});if(!e.ok)throw new Error(`Failed to fetch ${t}`);return t==="translate"?e.json():e.text()}function c(t,o){return t.type==="search-suggest"||t.type==="translate"?(n(t.type,t).then(r=>{o({status:a.OK,data:r})}).catch(r=>{o({status:a.ERROR,message:r.toString()})}),!0):(o({status:a.INVALID,message:"Invalid request"}),!1)}chrome.runtime.onMessage.addListener((t,o,r)=>c(t,r));
